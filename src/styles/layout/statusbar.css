/* --- Layout: Status Bar --- */

.status-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: var(--statusbar-bg, #252526) !important;
  color: var(--statusbar-text, #cccccc) !important;
  padding: 0 10px;
  height: var(--statusbar-height, 40px) !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  /* Escalado dinámico de fuente basado en la altura de la status bar */
  font-size: calc(var(--statusbar-height, 40px) * 0.3);
}

.status-group {
  display: flex;
  align-items: center;
  /* Escalado dinámico del gap basado en la altura de la status bar */
  gap: calc(var(--statusbar-height, 40px) * 0.375);
}

.status-bar-section {
  display: flex;
  align-items: center;
  /* Escalado dinámico del gap basado en la altura de la status bar */
  gap: calc(var(--statusbar-height, 40px) * 0.15);
}

.status-bar-section.version-section {
  /* Escalado dinámico de la sección de versión */
  font-size: calc(var(--statusbar-height, 40px) * 0.275);
  opacity: 0.7;
  transition: opacity 0.2s ease;
}

.status-bar-section.version-section:hover {
  opacity: 1;
}

.status-bar-section .disk-info {
  display: flex;
  align-items: center;
  /* Escalado dinámico del gap para disk-info */
  gap: calc(var(--statusbar-height, 40px) * 0.15);
}

.status-icon {
  /* Escalado dinámico de iconos basado en la altura de la status bar */
  font-size: calc(var(--statusbar-height, 40px) * 0.4);
}

.sparkline-container {
  /* Escalado dinámico del sparkline basado en la altura de la status bar */
  width: calc(var(--statusbar-height, 40px) * 1.5);
  height: calc(var(--statusbar-height, 40px) * 0.45);
  display: flex;
  align-items: flex-end;
  margin-left: 5px;
  border: 1px solid var(--statusbar-border, #2c313a) !important; 
  background-color: var(--statusbar-bg, #1e1e1e) !important; 
  overflow: hidden;
  padding: 1px;
  box-sizing: border-box;
}

.sparkline-bars {
  display: flex;
  flex-direction: row;
  align-items: flex-end;
  width: 100%;
  height: 100%;
  gap: 1px;
}

.sparkline-bar {
  flex-grow: 1;
  background-color: var(--statusbar-sparkline-color, #40a9f3) !important;
  min-width: 1px;
}

.status-bar-icon {
  /* Escalado dinámico de iconos de status bar basado en la altura */
  font-size: calc(var(--statusbar-height, 40px) * 0.4);
  color: var(--statusbar-icon-color, inherit) !important;
}

.status-bar-icon.cpu { color: var(--statusbar-cpu) !important; }
.status-bar-icon.disk { color: var(--statusbar-disk) !important; }
.status-bar-icon.mem { color: var(--statusbar-mem) !important; }
.status-bar-icon.net-up { color: var(--statusbar-red-up) !important; }
.status-bar-icon.net-down { color: var(--statusbar-red-down) !important; }
.status-bar-icon.icons { color: var(--statusbar-icons) !important; }

.disk-info {
  /* Escalado dinámico del margin-right */
  margin-right: calc(var(--statusbar-height, 40px) * 0.25);
}

.disk-section {
  /* Escalado dinámico del gap para disk-section */
  gap: calc(var(--statusbar-height, 40px) * 0.25);
}

.disk-info-item {
  display: flex;
  align-items: center;
  /* Escalado dinámico del gap para disk-info-item */
  gap: calc(var(--statusbar-height, 40px) * 0.15);
}

/* --- Estados de carga para Status Bar --- */

.status-bar-section.loading-section {
  opacity: 0.6;
  animation: statusbar-loading-pulse 2s ease-in-out infinite;
}

.loading-text {
  color: var(--statusbar-text, #cccccc) !important;
  opacity: 0.7;
  font-family: 'Courier New', monospace;
}

.status-bar-icon.loading {
  opacity: 0.8;
  animation: statusbar-icon-pulse 1.5s ease-in-out infinite;
}

.sparkline-container.loading {
  opacity: 0.5;
}

.sparkline-bar.loading {
  background-color: var(--statusbar-sparkline-color, #40a9f3) !important;
  opacity: 0.3;
  animation: statusbar-sparkline-loading 1.8s ease-in-out infinite;
}

.sparkline-bar.loading:nth-child(odd) {
  animation-delay: 0.2s;
}

.sparkline-bar.loading:nth-child(even) {
  animation-delay: 0.4s;
}

@keyframes statusbar-loading-pulse {
  0%, 100% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes statusbar-icon-pulse {
  0%, 100% {
    opacity: 0.8;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
  }
}

@keyframes statusbar-sparkline-loading {
  0%, 100% {
    opacity: 0.3;
    height: 20%;
  }
  50% {
    opacity: 0.7;
    height: 60%;
  }
}