# Changelog

Todos los cambios notables de este proyecto ser√°n documentados en este archivo.

El formato est√° basado en [Keep a Changelog](https://keepachangelog.com/es-ES/1.0.0/),
y este proyecto adhiere a [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.5.9] - 2025-01-13

### üîê Nuevas Caracter√≠sticas - Password Manager
- **Integraci√≥n de KeePass**: Sistema completo de gestor de contrase√±as
- **Sidebar de Password Manager**: Panel lateral para gesti√≥n de credenciales
- **Importaci√≥n de KeePass**: Importa bases de datos .kdbx
- **Panel de Importaci√≥n**: Nueva interfaz para importar credenciales
- **Auto-completado de Credenciales**: Relleno autom√°tico de formularios SSH/RDP

### üé® Mejoras de UI/UX
- **Nueva Sidebar**: Panel lateral para gesti√≥n de contrase√±as
- **Di√°logos Mejorados**: Mejor UX en importaci√≥n de KeePass
- **Iconos y Temas**: Nuevos iconos para password manager

### üîß Mejoras T√©cnicas
- **Servicios de KeePass**: Integraci√≥n con kdbxweb
- **Gesti√≥n de Estado**: Mejor manejo de credenciales
- **Seguridad Mejorada**: Encriptaci√≥n de credenciales importadas

### üêõ Correcciones de Bugs
- **Estabilidad General**: Mejoras en la estabilidad de la aplicaci√≥n
- **Optimizaci√≥n de Rendimiento**: Mejoras en la carga de componentes

## [1.6.0] - 2025-01-11

### üé• Nueva Funcionalidad: Sistema de Auditor√≠a y Grabaci√≥n de Sesiones

- **Grabaci√≥n de Sesiones SSH**: Captura completa de entrada/salida en tiempo real
  - Formato est√°ndar asciicast v2 (compatible con asciinema)
  - Soporte para conexiones SSH directas y con Bastion/Wallix
  - Control desde men√∫ contextual del terminal (‚è∫ Iniciar / ‚èπ Detener)
  - Captura autom√°tica sin impacto en el rendimiento

- **Panel de Auditor√≠a**: Nueva pesta√±a para gestionar grabaciones
  - Acceso desde men√∫ contextual de conexi√≥n SSH (üìº Auditor√≠a)
  - Lista filtrada por host y usuario
  - Estad√≠sticas: total de grabaciones, duraci√≥n, tama√±o
  - Acciones: Reproducir, Exportar, Eliminar

- **Reproductor Integrado**: Playback profesional de grabaciones
  - Controles completos: Play, Pause, Stop, Reiniciar
  - Velocidad ajustable (0.5x - 3x)
  - Barra de progreso interactiva
  - Renderizado con xterm.js (mismo motor que terminal)
  - Display de tiempo transcurrido / total

- **Exportaci√≥n y Compatibilidad**:
  - Exportaci√≥n a archivos `.cast` est√°ndar
  - Compatible con asciinema-player y otras herramientas
  - Almacenamiento local en `userData/recordings/`
  - Metadata separada para b√∫squeda r√°pida

### üîß Mejoras T√©cnicas

- **Backend (Proceso Principal)**:
  - Nueva clase `SessionRecorder` para captura en tiempo real
  - Nueva clase `SessionRecordingManager` para gesti√≥n de archivos
  - IPC handlers: `recording:start`, `recording:stop`, `recording:list`, etc.
  - Integraci√≥n no invasiva en flujo SSH existente
  
- **Frontend (Proceso Renderer)**:
  - Nuevo componente `AuditTab` para lista de grabaciones
  - Nuevo componente `RecordingPlayerTab` para reproducci√≥n
  - Hook `useRecordingManagement` para gesti√≥n de estado
  - Integraci√≥n en men√∫s contextuales (terminal y sidebar)
  - Soporte para nuevos tipos de tabs (`audit`, `recording-player`)

- **Preload Script**:
  - Nuevos canales IPC permitidos: `/^recording:.*$/`
  - Exposici√≥n segura de m√©todos de grabaci√≥n

### üìñ Documentaci√≥n

- **Nueva Gu√≠a Completa**: [docs/GUIA_AUDITORIA_SESIONES.md](docs/GUIA_AUDITORIA_SESIONES.md)
  - Introducci√≥n y casos de uso
  - Gu√≠a de usuario detallada con ejemplos visuales
  - Arquitectura t√©cnica y flujos de datos
  - Especificaci√≥n de formato de datos
  - Seguridad y privacidad
  - Soluci√≥n de problemas
  - Referencias y herramientas compatibles

- **README Actualizado**: Nueva secci√≥n sobre sistema de auditor√≠a

### üìÅ Archivos Nuevos

```
src/services/
‚îú‚îÄ‚îÄ SessionRecorder.js               # Motor de grabaci√≥n en tiempo real
‚îî‚îÄ‚îÄ SessionRecordingManager.js       # Gesti√≥n de almacenamiento

src/main/handlers/
‚îî‚îÄ‚îÄ recording-handlers.js            # IPC handlers para grabaciones

src/components/
‚îú‚îÄ‚îÄ AuditTab.js                      # UI de lista de grabaciones
‚îî‚îÄ‚îÄ RecordingPlayerTab.js            # UI de reproductor

src/hooks/
‚îî‚îÄ‚îÄ useRecordingManagement.js        # Hook React para grabaciones

docs/
‚îî‚îÄ‚îÄ GUIA_AUDITORIA_SESIONES.md       # Documentaci√≥n completa
```

### üìÅ Archivos Modificados

- `main.js` - Integraci√≥n de captura SSH
- `preload.js` - Exposici√≥n de canales IPC
- `src/components/contextmenus/TerminalContextMenu.js` - Bot√≥n de grabaci√≥n
- `src/hooks/useSidebarManagement.js` - Men√∫ de auditor√≠a
- `src/components/TabContentRenderer.js` - Renderizado de nuevos tabs
- `src/components/App.js` - Integraci√≥n de hook
- `src/components/MainContentArea.js` - Props de grabaci√≥n

### üéØ Casos de Uso

1. **Auditor√≠a de Seguridad**: Registro de acciones en servidores cr√≠ticos
2. **Debugging**: Reproducir secuencias que causaron errores
3. **Documentaci√≥n**: Crear tutoriales paso a paso
4. **Formaci√≥n**: Compartir sesiones de ejemplo
5. **Compliance**: Cumplir requisitos de trazabilidad

### üöÄ Caracter√≠sticas Futuras Planificadas

- [ ] Indicador visual de grabaci√≥n activa en tab
- [ ] B√∫squeda de texto dentro de grabaciones
- [ ] Marcadores/timestamps en grabaciones
- [ ] Exportaci√≥n a GIF animado
- [ ] Cifrado de grabaciones sensibles
- [ ] Limpieza autom√°tica de grabaciones antiguas
- [ ] Compresi√≥n de grabaciones
- [ ] Anotaciones en reproducci√≥n

---

## [1.5.5] - 2024-12-21

### üé® Mejoras de Temas y Personalizaci√≥n
- **Sistema de Temas Avanzado**: Nuevo gestor de temas para pesta√±as con mayor flexibilidad
- **Temas Personalizados**: Soporte para temas personalizados con configuraci√≥n granular
- **Selector de Temas Mejorado**: Interfaz m√°s intuitiva para selecci√≥n de temas
- **Persistencia de Temas**: Los temas seleccionados se mantienen entre sesiones

### üîß Mejoras T√©cnicas
- **Gesti√≥n de Temas Optimizada**: Mejor rendimiento en la carga y aplicaci√≥n de temas
- **C√≥digo M√°s Modular**: Refactorizaci√≥n del sistema de temas para mejor mantenibilidad
- **Mejor Organizaci√≥n**: Estructura m√°s clara para la gesti√≥n de temas

### üêõ Correcciones de Bugs
- **Correcci√≥n de Temas**: Mejor aplicaci√≥n de temas en pesta√±as
- **Fix de Persistencia**: Los temas se mantienen correctamente al reiniciar
- **Correcci√≥n de Rendimiento**: Mejoras en la carga de temas personalizados

## [1.5.4] - 2024-12-20

### üöÄ Optimizaciones de Rendimiento
- **Optimizaci√≥n del main.js**: Refactorizaci√≥n completa del archivo principal de Electron
- **Mejor Gesti√≥n de Memoria**: Optimizaci√≥n de la gesti√≥n de recursos del sistema
- **Reducci√≥n de Tiempo de Inicio**: Mejoras en el tiempo de arranque de la aplicaci√≥n
- **Optimizaci√≥n de IPC**: Mejor comunicaci√≥n entre procesos principal y renderer

### üîß Mejoras T√©cnicas
- **C√≥digo M√°s Limpio**: Refactorizaci√≥n de funciones y mejor organizaci√≥n del c√≥digo
- **Mejor Manejo de Errores**: Mejores mensajes de error y logging
- **Optimizaci√≥n de Dependencias**: Mejor gesti√≥n de m√≥dulos nativos
- **Preparaci√≥n para Escalabilidad**: Arquitectura m√°s robusta para futuras funcionalidades

### üêõ Correcciones de Bugs
- **Correcci√≥n de Memory Leaks**: Eliminaci√≥n de fugas de memoria en el proceso principal
- **Mejor Estabilidad**: Correcci√≥n de crashes ocasionales durante el inicio
- **Fix de Reconexi√≥n**: Mejor manejo de reconexiones autom√°ticas
- **Correcci√≥n de Timeouts**: Mejor gesti√≥n de timeouts en conexiones SSH

### üìÅ Cambios en Estructura
- **Reorganizaci√≥n de main.js**: Mejor estructura y modularidad
- **Optimizaci√≥n de Handlers**: Mejor organizaci√≥n de manejadores de eventos
- **Mejor Separaci√≥n de Responsabilidades**: C√≥digo m√°s mantenible

## [1.5.3] - 2024-12-19

### ‚ú® Nuevas Caracter√≠sticas
- **Sistema de Importaci√≥n de Sesiones**: Importa conexiones desde archivos XML (mRemoteNG, etc.)
- **Selector de Colores Avanzado**: Personalizaci√≥n completa de temas con paleta de colores
- **Sidebar Colapsable Inteligente**: Mejor gesti√≥n del espacio y experiencia de usuario
- **Duplicaci√≥n de Conexiones**: Duplica carpetas y conexiones f√°cilmente
- **Modo Vinculado**: Importaci√≥n autom√°tica desde archivos externos
- **Opciones Avanzadas en Di√°logos**: Mejor UX en formularios SSH/RDP

### üé® Mejoras de UI/UX
- **Refactor Completo de Estilos CSS**: Nueva estructura organizada y modular
- **Temas Mejorados**: Iconos y colores m√°s elegantes
- **UI Responsiva**: Mejor adaptaci√≥n a diferentes tama√±os de pantalla
- **Di√°logos Mejorados**: Mejor experiencia en formularios de conexi√≥n
- **Sidebar con Transiciones Suaves**: Animaciones elegantes al colapsar/expandir

### üîß Mejoras T√©cnicas
- **Nueva Estructura de Estilos**: Organizaci√≥n modular en `src/styles/`
- **Componentes CSS Separados**: Mejor mantenibilidad del c√≥digo
- **Optimizaci√≥n de Rendimiento**: Mejoras en la gesti√≥n de memoria
- **Mejor Gesti√≥n de Estado**: Optimizaci√≥n de re-renders

### üêõ Correcciones de Bugs
- **Correcci√≥n de Scroll en Sidebar**: Eliminado scroll innecesario
- **Fix de Reconexi√≥n PowerShell**: Mejor estabilidad en terminales locales
- **Correcci√≥n de Tama√±os**: Mejor gesti√≥n de dimensiones en sidebar
- **Fix de Men√∫s Contextuales**: Mejor funcionamiento de men√∫s
- **Correcci√≥n de Formularios**: Desbloqueo correcto de formularios

### üìÅ Cambios en Estructura
- **Nueva Organizaci√≥n CSS**:
  - `src/styles/base/` - Estilos base
  - `src/styles/components/` - Componentes espec√≠ficos
  - `src/styles/layout/` - Layouts y estructura
  - `src/styles/pages/` - P√°ginas espec√≠ficas
  - `src/styles/themes/` - Temas y personalizaci√≥n

### üîÑ Cambios en Funcionalidad
- **Importaci√≥n de Sesiones**: Soporte para m√∫ltiples formatos XML
- **Gesti√≥n de Carpetas**: Mejor organizaci√≥n de conexiones
- **Sincronizaci√≥n**: Mejoras en la sincronizaci√≥n de configuraciones
- **Temas**: Mayor flexibilidad en personalizaci√≥n

## [1.5.2] - 2024-12-15

### ‚ú® Nuevas Caracter√≠sticas
- **Major Performance Optimization**: React Re-render Optimization
- **Memoizaci√≥n de Componentes**: TabHeader, TabContentRenderer, Sidebar
- **Refactor de App.js**: Extracci√≥n de MainContentArea

### üöÄ Mejoras de Rendimiento
- **Reducci√≥n de 30-40%** en re-renders innecesarios
- **Optimizaci√≥n de Props**: Uso de useCallback y useMemo
- **Mejor Arquitectura**: Componentes m√°s modulares
- **App.js Reducido**: De ~1100 a ~900 l√≠neas

### üé® Mejoras de UI
- **Drag & Drop M√°s Fluido**: Mejor respuesta de la interfaz
- **Mejor Respuesta de UI**: Interfaz m√°s responsiva
- **C√≥digo M√°s Modular**: Mejor mantenibilidad

### üß™ Preparaci√≥n para Testing
- **Arquitectura Mejorada**: Preparaci√≥n para testing automatizado
- **C√≥digo M√°s Limpio**: Mejor estructura para mantenimiento

## [1.5.1] - 2024-12-10

### ‚ú® Nuevas Caracter√≠sticas
- **Favoritos y Conexiones Recientes**: Sistema de favoritos implementado
- **Estado de NodeTerm**: Informaci√≥n del sistema en tiempo real
- **Iconos para Distribuciones**: Detecci√≥n autom√°tica de distros Linux
- **Status Bar para Terminales Locales**: PowerShell y WSL

### üé® Mejoras de UI
- **Iconos para Unidades de Red**: Mejor identificaci√≥n visual
- **Estado Visual**: Indicadores de estado del sistema
- **Mejor Organizaci√≥n**: Agrupaci√≥n de conexiones

### üîß Mejoras T√©cnicas
- **Mejor Gesti√≥n de Estado**: Optimizaci√≥n de componentes
- **Iconos Din√°micos**: Detecci√≥n autom√°tica de sistemas
- **Status Bar Inteligente**: Informaci√≥n contextual

## [1.4.1] - 2024-12-05

### ‚ú® Nuevas Caracter√≠sticas
- **Soporte Completo RDP**: Conexiones RDP con smart sizing
- **Mejoras de Estabilidad**: Mejor rendimiento general

### üêõ Correcciones de Bugs
- **Correcci√≥n de Errores RDP**: Mejor funcionamiento desde sidebar
- **Mejoras de Estabilidad**: Correcci√≥n de bugs menores

### üé® Mejoras de UI
- **UI Refinada**: Interfaz m√°s moderna
- **Sincronizaci√≥n Mejorada**: Mejor sync entre escritorio y web

## [1.4.0] - 2024-12-01

### ‚ú® Nuevas Caracter√≠sticas
- **Exportaci√≥n/Importaci√≥n**: Sistema de configuraci√≥n
- **Sincronizaci√≥n Mejorada**: Entre escritorio y web

### üé® Mejoras de UI
- **UI Refinada**: Interfaz m√°s moderna
- **Mejoras de Estabilidad**: Mejor rendimiento

### üêõ Correcciones de Bugs
- **Correcci√≥n de Bugs**: Varias correcciones menores
- **Optimizaciones**: Mejoras de rendimiento

## [1.3.0] - 2024-11-25

### ‚ú® Nuevas Caracter√≠sticas
- **Men√∫s Contextuales**: Para explorador de sesiones
- **Men√∫ Contextual en √Årea Vac√≠a**: Mejor UX

### üé® Mejoras de UI
- **Interface M√°s Limpia**: Sin botones inline
- **Mejor Experiencia**: Men√∫s m√°s intuitivos

## [1.2.0] - 2024-11-20

### ‚ú® Nuevas Caracter√≠sticas
- **Sistema de Versionado**: Implementado completamente
- **Di√°logo "Acerca de"**: Informaci√≥n completa de la aplicaci√≥n
- **Versi√≥n en Status Bar**: Informaci√≥n de versi√≥n visible

### üé® Mejoras de UI
- **Interfaz Mejorada**: Dise√±o m√°s profesional
- **Mejor Informaci√≥n**: Datos de versi√≥n accesibles

## [1.1.0] - 2024-11-15

### ‚ú® Nuevas Caracter√≠sticas
- **Panel Lateral Optimizado**: Mejor organizaci√≥n
- **Iconos Autom√°ticos**: Por distribuci√≥n Linux
- **Sistema de Overflow Inteligente**: Mejor gesti√≥n de espacio
- **Funcionalidad Move-to-Front**: Mejor navegaci√≥n

### üêõ Correcciones de Bugs
- **Correcci√≥n de Memory Leaks**: Mejor gesti√≥n de memoria
- **Mejoras de Estabilidad**: Correcci√≥n de bugs menores

---

## Tipos de Cambios

- **‚ú® Nuevas Caracter√≠sticas**: Para nuevas funcionalidades
- **üé® Mejoras de UI/UX**: Para cambios en la interfaz de usuario
- **üîß Mejoras T√©cnicas**: Para mejoras en el c√≥digo y arquitectura
- **üêõ Correcciones de Bugs**: Para correcci√≥n de errores
- **üìÅ Cambios en Estructura**: Para cambios en la organizaci√≥n del proyecto
- **üîÑ Cambios en Funcionalidad**: Para modificaciones en funcionalidades existentes
- **üöÄ Mejoras de Rendimiento**: Para optimizaciones de rendimiento
- **üß™ Preparaci√≥n para Testing**: Para cambios relacionados con testing
